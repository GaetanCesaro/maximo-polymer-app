<!-- 
 Licensed Materials - Property of IBM
 5724-U18
 Copyright IBM Corporation. 2016
-->

<dom-module id="maximo-searchasset-card">
	<link rel="import" href="../../../../css/shared.html">
	<style is="custom-style" include="maximo-shared-css"></style>

	<link rel="import" href="maximo-searchasset-card-css.html">
	<style is="custom-style" include="maximo-searchasset-card-css"></style>	
	
	<template id="maximo_selectasset_dialog">
	
  	<maximo-collection 
	    auto
	    id="selectassetcollection" 
		attribute-names="assetnum,description,location.location,siteid,location.description"
		collection-data="{{recordData1}}"
		debounce-duration="600"
		dynamic-attribute-names="{{dynamicAttributeNames}}"
		filter-data="{{woFilterData}}"	
		order-by-attribute-names="%2Bassetnum,%2Bdescription"
		on-dynamic-attribute-data-fetched="_showWODetails"
		page-size="10"
		query-info="{{queryInfo}}"
		object-name="MXASSET" 
		search-attribute-names="assetnum,description,location.location,siteid,location.description"
		selected-query-name="All"
		selected-record="{{selectedRecord}}"
		on-record-data-refreshed="_handleRecordDataRefreshed"		
		use-search-terms="true"
		on-data-error="_handleDataError"  >		
	</maximo-collection>    
	<maximo-panel id="selectAssetPanel" label="{{localize('Select Asset')}}" headinginfo="{{recordCount}}" width="[[panelWidth]]" height="470px">
		<maximo-searchbar id="myteamswork-searchbar" collection="{{getLocalObject('selectassetcollection')}}" placeholder="{{localize('Search')}}"></maximo-searchbar>
	        <div id="MaxDeviceStatusContainer" style="width:100%;height:200px;">
				<maximo-table id="sruser_selectasset_section_1_table" items="{{recordData1}}" collection="{{'selectassetcollection')}}">
					<maximo-tablecol id="selectasset_section_1_assetnum" label="AssetNum" attribute="assetnum"  ></maximo-tablecol>
					<maximo-tablecol id="selectasset_section_1_desc" label="Description" attribute="description" ></maximo-tablecol>
					<maximo-tablecol id="selectasset_section_1_location" label="Location" attribute="location.location"></maximo-tablecol>
					<maximo-tablecol id="selectasset_section_1_siteid" label="Site" attribute="siteid"></maximo-tablecol>
					<maximo-tablecol id="selectasset_section_1_locationdesc" label="" attribute="location.description" style="display: none;"></maximo-tablecol>
				</maximo-table>				
			</div>   
				
		<hr id="sep2"></hr>   
		<maximo-footer id="footer">
		 	<maximo-button id="selectasset_footer_Cancel" label="{{localize('Close')}}" on-tap="close"></maximo-button>
	  	</maximo-footer>

	  	</maximo-panel>		
	  	<maximo-data-page id="wodetail_wpmaterial_page"  collection="{{getLocalObject('selectassetcollection')}}" ></maximo-data-page>
	</template>
	<script src="maximo-searchasset-card.js"></script>
</dom-module>