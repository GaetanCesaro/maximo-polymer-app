<!--
/*
 * Licensed Materials - Property of IBM
 *
 * 5724-U18
 *
 * (C) Copyright IBM Corp. 2016 All Rights Reserved
 *
 * US Government Users Restricted Rights - Use, duplication or
 * disclosure restricted by GSA ADP Schedule Contract with
 * IBM Corp.
 */
-->

<!doctype html>
<html>
  <head>
    <title>maximo-collapsible tests</title>
    <script src="../../../main.js"></script>
    <script src="../../../test.js"></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">

    <script src="../../../components/webcomponentsjs/webcomponents.js"></script>
    <script src="../../../components/web-component-tester/browser.js"></script>
    <script src="../../../components/iron-test-helpers/mock-interactions.js"></script>
    
    <link rel="import" href="../../../maximocomponents/maximo-module/maximo-module.html"/>
    
    <style is="custom-style">
      body {
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
  	<maximo-module id="module"></maximo-module>
    <test-fixture id="collapsible">
    	<template>
    		<maximo-collapsible id="collapsible0"  label="Test Collapsible" ></maximo-collapsible>
    	</template>
    </test-fixture>
   <script>
      suite('<maximo-collapsible>', function() {
          var collapsible;
          setup(function() {
        	  collapsible = fixture('collapsible');
          });
          
          test('collapsible base - checks states', function(done) {
         	 expect(collapsible.$$('.collapsible').hasAttribute('hidden')).to.equal(false, 'wrong type of collapsible shown');

             done();
          });
          
          
          test('collapsible taps - checks states when tapped', function(done) {
        	  expect(collapsible.collapsed).to.equal(true, 'collapsible should now be collapsed');
        	  //tap to collapse
        	  MockInteractions.tap(collapsible.$.collapse);
        	  expect(collapsible.collapsed).to.equal(false, 'collapsible should now be expanded');
        	  
        	  done();
          });
         
    	  a11ySuite('collapsible');
      });
      
    </script>
  </body>
</html>